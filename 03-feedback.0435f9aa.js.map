{"version":3,"sources":["js/03-feedback.js"],"names":["refs","form","document","querySelector","input","textarea","FORM_KEY","onFormInput","evt","messageEL","currentTarget","elements","dataToSaved","mail","email","value","message","localStorage","setItem","JSON","stringify","addEventListener","onPopulateForm","getItem","Object","entries","parse","forEach","name","feedbackForm","onFormSubmit","event","preventDefault","console","log","reset","removeItem"],"mappings":";AAEA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAI7BG,EAAW,sBAGXC,EAAcC,IACZC,MAAAA,EAAYD,EAAIE,cAAcC,SAMhCC,EAAc,CAElBC,KALWJ,EAAUK,MAAMC,MAM3BC,QALcP,EAAUO,QAAQD,OAQlCE,aAAaC,QAAQ,sBAAwBC,KAAKC,UAAUR,KAG5DZ,EAAKC,KAAKoB,iBAAiB,QAAQd,GAGnC,MAAMe,EAAiB,KACjBL,aAAaM,QAAQjB,IACrBkB,OAAOC,QAAQN,KAAKO,MAAMT,aAAaM,QAAQjB,KAAYqB,QAAQ,EAAEC,EAAMb,KAAWc,aAAalB,SAASiB,GAAMb,MAAQA,IAD1HE,aAAaM,QAAQjB,IACrBkB,OAAOC,QAAQN,KAAKO,MAAMT,aAAaM,QAAQjB,KAAYqB,QAAQ,EAAEC,EAAMb,KAAWc,aAAalB,SAASiB,GAAMb,MAAQA,GAKhI,MAAMe,EAAeC,IACnBA,EAAMC,iBACFH,aAAalB,SAASG,MAAMC,OAAiD,KAAxCc,aAAalB,SAASK,QAAQD,QACnEkB,QAAQC,IAAI,+BAAgCf,KAAKO,MAAMT,aAAaM,QAAQjB,KAC5EyB,EAAMrB,cAAcyB,QACpBlB,aAAamB,WAAW9B,KAI9BuB,aAAaR,iBAAiB,SAAUS","file":"03-feedback.0435f9aa.js","sourceRoot":"../src","sourcesContent":["// import throttle from 'lodash.throttle' ;\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('.feedback-form input') ,\n  textarea: document.querySelector('.feedback-form textarea') ,\n\n  \n};\nconst FORM_KEY = \"feedback-form-state\";\n\n\nconst onFormInput = evt => {\n  const messageEL = evt.currentTarget.elements;\n// console.dir(onFormInput) ;\n\nconst mail = messageEL.email.value ; \nconst message = messageEL.message.value ;\n\nconst dataToSaved = {\n\n  mail,\n  message,\n}\n\nlocalStorage.setItem('feedback-form-state' , JSON.stringify(dataToSaved)) ;\n};\n\nrefs.form.addEventListener('input',onFormInput);\n\n\nconst onPopulateForm = () => {\n  if (localStorage.getItem(FORM_KEY)) {\n      Object.entries(JSON.parse(localStorage.getItem(FORM_KEY))).forEach(([name, value]) => feedbackForm.elements[name].value = value); // `${name}: ${value}`; `${name}: value`; `${name} = value`\n  }\n};\nonPopulateForm();\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  if (feedbackForm.elements.email.value && feedbackForm.elements.message.value !== \"\") {\n      console.log('Отправляем форму с данными: ', JSON.parse(localStorage.getItem(FORM_KEY)));\n      event.currentTarget.reset();\n      localStorage.removeItem(FORM_KEY);\n  };\n};\n\nfeedbackForm.addEventListener(\"submit\", onFormSubmit);"]}